<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#1B9F8E"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-09-07T13:53:29.715925722"><title>Xonix | 16 Games in C++</title><script type="application/json" id="virtual-toc-data">[{"id":"o-que-xonix","level":0,"title":"O que é Xonix?","anchor":"#o-que-xonix"},{"id":"como-organizar-o-jogo","level":0,"title":"Como Organizar o Jogo","anchor":"#como-organizar-o-jogo"},{"id":"as-principais-mec-nicas-do-jogo","level":0,"title":"As Principais Mecânicas do Jogo","anchor":"#as-principais-mec-nicas-do-jogo"},{"id":"estrutura-do-c-digo-no-main-cpp","level":0,"title":"Estrutura do Código no main.cpp","anchor":"#estrutura-do-c-digo-no-main-cpp"},{"id":"conceitos-importantes-aprendidos","level":0,"title":"Conceitos Importantes Aprendidos","anchor":"#conceitos-importantes-aprendidos"},{"id":"extens-es-poss-veis","level":0,"title":"Extensões Possíveis","anchor":"#extens-es-poss-veis"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><link rel="icon" type="image/svg" sizes="16x16" href="images/logo.svg"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Xonix | 16 Games in C++"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="16 Games in C++ Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/xonix.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Xonix | 16 Games in C++"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/xonix.html#webpage",
    "url": "writerside-documentation/xonix.html",
    "name": "Xonix | 16 Games in C++",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "16 Games in C++ Help"
}</script><!-- End Schema.org --></head><body data-id="xonix" data-main-title="Xonix" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="jogos.md|Jogos"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>16 Games in C++  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="xonix" id="xonix.md">Xonix</h1><p id="-ayu4t0_3">Este tutorial detalha a implementa&ccedil;&atilde;o do cl&aacute;ssico jogo Xonix, uma fascinante mistura de a&ccedil;&atilde;o e estrat&eacute;gia. Vamos explorar passo a passo como o jogo &eacute; constru&iacute;do, desde a estrutura b&aacute;sica at&eacute; o algoritmo inteligente de captura de territ&oacute;rio, tornando-o um guia &uacute;til tanto para iniciantes quanto para desenvolvedores que buscam entender l&oacute;gicas de jogos mais complexas.</p><section class="chapter"><h2 id="o-que-xonix" data-toc="o-que-xonix">O que &eacute; Xonix?</h2><p id="-ayu4t0_10">Imagine um campo aberto (o &quot;mar&quot;) com inimigos se movendo livremente. Voc&ecirc; controla um cursor que come&ccedil;a na borda segura (a &quot;terra&quot;). Seu objetivo &eacute; se aventurar no mar para desenhar linhas e capturar novas por&ccedil;&otilde;es de terra.</p><ul class="list _bullet" id="-ayu4t0_11"><li class="list__item" id="-ayu4t0_13"><p id="-ayu4t0_16"><span class="control" id="-ayu4t0_17">Captura de Territ&oacute;rio</span>: Voc&ecirc; desenha uma trilha na &aacute;rea vazia. Ao retornar para a terra firme, a &aacute;rea que voc&ecirc; cercou (e que n&atilde;o cont&eacute;m inimigos) &eacute; preenchida, tornando-se sua.</p></li><li class="list__item" id="-ayu4t0_14"><p id="-ayu4t0_18"><span class="control" id="-ayu4t0_19">Inimigos</span>: V&aacute;rios inimigos se movem pelo mar. Se eles tocarem sua trilha enquanto voc&ecirc; a desenha, voc&ecirc; perde.</p></li><li class="list__item" id="-ayu4t0_15"><p id="-ayu4t0_20"><span class="control" id="-ayu4t0_21">Risco e Recompensa</span>: Quanto maior a &aacute;rea que voc&ecirc; tenta capturar de uma vez, maior o risco, mas tamb&eacute;m maior a recompensa.</p></li></ul><p id="-ayu4t0_12">Este jogo ensina conceitos cruciais como manipula&ccedil;&atilde;o de grades (arrays 2D), algoritmos de preenchimento (flood fill) e gerenciamento de estados.</p></section><section class="chapter"><h2 id="como-organizar-o-jogo" data-toc="como-organizar-o-jogo">Como Organizar o Jogo</h2><section class="chapter"><h3 id="m-quina-de-estados-do-jogo" data-toc="m-quina-de-estados-do-jogo">M&aacute;quina de Estados do Jogo</h3><p id="-ayu4t0_24">Para gerenciar as diferentes telas e modos de jogo (menu, jogando, pausado, fim de jogo), usamos uma m&aacute;quina de estados finitos. Isso nos ajuda a separar a l&oacute;gica e manter o c&oacute;digo organizado.</p><div class="code-block" data-lang="cpp">
enum GameState {
    MainMenu,
    Playing,
    Paused,
    GameOver
};

GameState gameState = MainMenu; // O jogo sempre começa no menu
</div><p id="-ayu4t0_26">O fluxo entre os estados &eacute; controlado pelas a&ccedil;&otilde;es do jogador:</p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 788.875 281.81640625" height="281.81640625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="788.875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M142.906,171.422L156.813,171.422C170.719,171.422,198.531,171.422,219.391,171.422C240.25,171.422,254.156,171.422,267.396,171.422C280.635,171.422,293.208,171.422,299.495,171.422L305.781,171.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M392.082,144.422L412.975,130.654C433.867,116.887,475.652,89.352,508.263,75.649C540.874,61.947,564.31,62.078,587.08,62.205C609.849,62.332,631.952,62.455,643.004,62.517L654.055,62.579"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_B_2" d="M667.885,72.651L642.81,78.178C617.736,83.706,567.587,94.761,532.095,104.397C496.604,114.034,475.771,122.251,455.558,130.224C435.345,138.197,415.752,145.925,405.955,149.789L396.159,153.653"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_3" d="M392.438,166.053L413.271,163.347C434.104,160.641,475.771,155.229,507.021,154.882C538.271,154.536,559.104,159.256,579.287,163.828C599.47,168.401,619.003,172.826,628.77,175.039L638.536,177.251"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_4" d="M392.438,176.986L413.271,179.791C434.104,182.596,475.771,188.206,507.021,191.011C538.271,193.816,559.104,193.816,579.271,193.816C599.438,193.816,618.938,193.816,628.688,193.816L638.438,193.816"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_B_5" d="M642.438,213.775L621.604,219.782C600.771,225.789,559.104,237.802,527.854,238.9C496.604,239.997,475.771,230.178,455.541,220.643C435.31,211.108,415.683,201.857,405.869,197.232L396.056,192.606"></path></g><g class="edgeLabels"><g transform="translate(226.34375, 171.421875)" class="edgeLabel"><g transform="translate(-58.4375, -12)" class="label"><foreignObject height="24" width="116.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Clique em Jogar</p></span></div></foreignObject></g></g><g transform="translate(517.4375, 61.81640625)" class="edgeLabel"><g transform="translate(-46.34375, -12)" class="label"><foreignObject height="24" width="92.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Pressiona 'P'</p></span></div></foreignObject></g></g><g transform="translate(517.4375, 105.81640625)" class="edgeLabel"><g transform="translate(-46.34375, -12)" class="label"><foreignObject height="24" width="92.6875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Pressiona 'P'</p></span></div></foreignObject></g></g><g transform="translate(517.4375, 149.81640625)" class="edgeLabel"><g transform="translate(-62.9296875, -12)" class="label"><foreignObject height="24" width="125.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Inimigo toca trilha</p></span></div></foreignObject></g></g><g transform="translate(517.4375, 193.81640625)" class="edgeLabel"><g transform="translate(-66.046875, -12)" class="label"><foreignObject height="24" width="132.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Jogador toca trilha</p></span></div></foreignObject></g></g><g transform="translate(517.4375, 249.81640625)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Clique em Jogar Novamente</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(75.453125, 171.421875)" id="flowchart-A-1104" class="node default"><rect height="54" width="134.90625" y="-27" x="-67.453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-37.453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="74.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MainMenu</p></span></div></foreignObject></g></g><g transform="translate(351.109375, 171.421875)" id="flowchart-B-1105" class="node default"><rect height="54" width="82.65625" y="-27" x="-41.328125" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-26.328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="52.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Playing</p></span></div></foreignObject></g></g><g transform="translate(711.65625, 62.2109375)" id="flowchart-C-1107" class="node default"><polygon transform="translate(-54.2109375,54.2109375)" class="label-container" points="54.2109375,0 108.421875,-54.2109375 54.2109375,-108.421875 0,-54.2109375"></polygon><g transform="translate(-27.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="54.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Paused</p></span></div></foreignObject></g></g><g transform="translate(711.65625, 193.81640625)" id="flowchart-D-1111" class="node default"><rect height="54" width="138.4375" y="-27" x="-69.21875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-39.21875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="78.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GameOver</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h3 id="a-estrutura-de-dados-central-a-grade-grid" data-toc="a-estrutura-de-dados-central-a-grade-grid">A Estrutura de Dados Central: A Grade (<code class="code" id="-ayu4t0_32">grid</code>)</h3><p id="-ayu4t0_29">O cora&ccedil;&atilde;o do Xonix &eacute; uma matriz 2D que representa o campo de jogo. Cada c&eacute;lula da grade pode ter um de quatro valores, cada um com um significado especial:</p><ul class="list _bullet" id="-ayu4t0_30"><li class="list__item" id="-ayu4t0_33"><p id="-ayu4t0_37"><code class="code" id="-ayu4t0_38">grid[y][x] = 0</code>: Representa o &quot;mar&quot; &ndash; a &aacute;rea vazia e perigosa onde os inimigos se movem.</p></li><li class="list__item" id="-ayu4t0_34"><p id="-ayu4t0_39"><code class="code" id="-ayu4t0_40">grid[y][x] = 1</code>: Representa a &quot;terra&quot; &ndash; a &aacute;rea segura e j&aacute; capturada. As bordas come&ccedil;am como terra.</p></li><li class="list__item" id="-ayu4t0_35"><p id="-ayu4t0_41"><code class="code" id="-ayu4t0_42">grid[y][x] = 2</code>: A trilha do jogador. Esta &eacute; a parte vulner&aacute;vel que est&aacute; sendo desenhada no mar.</p></li><li class="list__item" id="-ayu4t0_36"><p id="-ayu4t0_43"><code class="code" id="-ayu4t0_44">grid[y][x] = -1</code>: Um valor tempor&aacute;rio usado exclusivamente pelo algoritmo de captura de territ&oacute;rio.</p></li></ul><div class="code-block" data-lang="cpp">
const int M = 25; // Altura da grade
const int N = 40; // Largura da grade
int grid[M][N] = {0}; // Inicializa tudo como 0 (mar)
</div></section></section><section class="chapter"><h2 id="as-principais-mec-nicas-do-jogo" data-toc="as-principais-mec-nicas-do-jogo">As Principais Mec&acirc;nicas do Jogo</h2><section class="chapter"><h3 id="movimento-do-jogador-e-dos-inimigos" data-toc="movimento-do-jogador-e-dos-inimigos">Movimento do Jogador e dos Inimigos</h3><ul class="list _bullet" id="-ayu4t0_48"><li class="list__item" id="-ayu4t0_50"><p id="-ayu4t0_52"><span class="control" id="-ayu4t0_53">Jogador</span>: Controlado pelas setas do teclado. Ao se mover a partir da terra (<code class="code" id="-ayu4t0_54">1</code>) para o mar (<code class="code" id="-ayu4t0_55">0</code>), ele deixa uma trilha de <code class="code" id="-ayu4t0_56">2</code>s.</p></li><li class="list__item" id="-ayu4t0_51"><p id="-ayu4t0_57"><span class="control" id="-ayu4t0_58">Inimigos</span>: Cada inimigo (<code class="code" id="-ayu4t0_59">Enemy</code>) tem uma posi&ccedil;&atilde;o e velocidade. Eles se movem em linha reta e ricocheteiam nas paredes (<code class="code" id="-ayu4t0_60">grid == 1</code>), criando um movimento ca&oacute;tico e imprevis&iacute;vel.</p></li></ul><div class="code-block" data-lang="cpp">
struct Enemy {
    int x, y, dx, dy; // Posição e velocidade

    void move() {
        x += dx;
        if (grid[y / ts][x / ts] == 1) { // Se bater na terra
            dx = -dx; // Inverte a direção horizontal
            x += dx;
        }
        y += dy;
        if (grid[y / ts][x / ts] == 1) { // Se bater na terra
            dy = -dy; // Inverte a direção vertical
            y += dy;
        }
    }
};
</div></section><section class="chapter"><h3 id="condi-es-de-fim-de-jogo" data-toc="condi-es-de-fim-de-jogo">Condi&ccedil;&otilde;es de Fim de Jogo</h3><p id="-ayu4t0_61">O jogo termina (estado <code class="code" id="-ayu4t0_64">GameOver</code>) em duas situa&ccedil;&otilde;es:</p><ol class="list _decimal" id="-ayu4t0_62" type="1"><li class="list__item" id="-ayu4t0_65"><p id="-ayu4t0_67"><span class="control" id="-ayu4t0_68">Inimigo Colide com a Trilha</span>: Se um inimigo tocar uma c&eacute;lula com valor <code class="code" id="-ayu4t0_69">2</code>.</p></li><li class="list__item" id="-ayu4t0_66"><p id="-ayu4t0_70"><span class="control" id="-ayu4t0_71">Jogador Colide com a Pr&oacute;pria Trilha</span>: Se o jogador, ao se mover, entrar em uma c&eacute;lula que j&aacute; faz parte de sua trilha atual (valor <code class="code" id="-ayu4t0_72">2</code>).</p></li></ol><div class="code-block" data-lang="cpp">
// No loop de atualização do jogador
if (grid[y][x] == 2) gameState = GameOver;

// No loop de verificação de inimigos
for (int i = 0; i &lt; enemyCount; i++)
    if (grid[a[i].y / ts][a[i].x / ts] == 2) gameState = GameOver;
</div></section><section class="chapter"><h3 id="o-algoritmo-de-captura-de-territ-rio-flood-fill" data-toc="o-algoritmo-de-captura-de-territ-rio-flood-fill">O Algoritmo de Captura de Territ&oacute;rio (Flood Fill)</h3><p id="-ayu4t0_73">Esta &eacute; a parte mais engenhosa do jogo. Quando o jogador retorna &agrave; terra firme (<code class="code" id="-ayu4t0_84">grid == 1</code>), o jogo precisa decidir qual &aacute;rea ser&aacute; preenchida.</p><p id="-ayu4t0_74">O processo ocorre em duas fases:</p><p id="-ayu4t0_75"><span class="control" id="-ayu4t0_85">Fase 1: Marcar as &aacute;reas dos inimigos</span></p><p id="-ayu4t0_76">O jogo usa um algoritmo de <span class="control" id="-ayu4t0_86">flood fill</span> (preenchimento de &aacute;rea) para descobrir quais partes do &quot;mar&quot; s&atilde;o alcan&ccedil;&aacute;veis pelos inimigos.</p><ol class="list _decimal" id="-ayu4t0_77" type="1"><li class="list__item" id="-ayu4t0_87"><p id="-ayu4t0_90">A fun&ccedil;&atilde;o <code class="code" id="-ayu4t0_91">drop(y, x)</code> &eacute; chamada para a posi&ccedil;&atilde;o de <span class="control" id="-ayu4t0_92">cada inimigo</span>.</p></li><li class="list__item" id="-ayu4t0_88"><p id="-ayu4t0_93">Esta fun&ccedil;&atilde;o &eacute; recursiva: se uma c&eacute;lula &eacute; mar (<code class="code" id="-ayu4t0_94">0</code>), ela a marca como tempor&aacute;ria (<code class="code" id="-ayu4t0_95">-1</code>) e chama a si mesma para todos os vizinhos que tamb&eacute;m s&atilde;o mar.</p></li><li class="list__item" id="-ayu4t0_89"><p id="-ayu4t0_96">Ao final, todas as c&eacute;lulas do mar que um inimigo pode alcan&ccedil;ar estar&atilde;o marcadas com <code class="code" id="-ayu4t0_97">-1</code>.</p></li></ol><div class="code-block" data-lang="cpp">
void drop(int y, int x) {
    if (grid[y][x] == 0) grid[y][x] = -1; // Marca a célula
    // Chama recursivamente para os vizinhos
    if (y &gt; 0 &amp;&amp; grid[y - 1][x] == 0) drop(y - 1, x);
    if (y &lt; M - 1 &amp;&amp; grid[y + 1][x] == 0) drop(y + 1, x);
    if (x &gt; 0 &amp;&amp; grid[y][x - 1] == 0) drop(y, x - 1);
    if (x &lt; N - 1 &amp;&amp; grid[y][x + 1] == 0) drop(y, x + 1);
}
</div><p id="-ayu4t0_79"><span class="control" id="-ayu4t0_98">Fase 2: Preencher a &aacute;rea capturada</span></p><p id="-ayu4t0_80">Ap&oacute;s marcar as &aacute;reas dos inimigos, o jogo percorre toda a grade para tomar a decis&atilde;o final:</p><div class="code-block" data-lang="cpp">
// Este loop é executado após a chamada de drop() para todos os inimigos
for (int i = 0; i &lt; M; i++)
    for (int j = 0; j &lt; N; j++)
        if (grid[i][j] == -1) grid[i][j] = 0; // Se foi alcançada por um inimigo, volta a ser mar
        else grid[i][j] = 1; // Caso contrário, torna-se terra firme!
</div><p id="-ayu4t0_82">Qualquer c&eacute;lula que <span class="control" id="-ayu4t0_99">n&atilde;o</span> foi marcada com <code class="code" id="-ayu4t0_100">-1</code> (ou seja, a trilha do jogador e qualquer por&ccedil;&atilde;o do mar que ficou isolada dos inimigos) &eacute; convertida em terra (<code class="code" id="-ayu4t0_101">1</code>).</p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 730.9765625 1166.796875" height="1166.796875" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="730.9765625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M377.293,62L377.293,66.167C377.293,70.333,377.293,78.667,377.335,84.958C377.376,91.25,377.46,95.5,377.53,99.083C377.6,102.667,377.657,105.584,377.686,107.042L377.715,108.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M377.793,270.922L377.71,275.005C377.626,279.089,377.46,287.255,377.376,293.422C377.293,299.589,377.293,303.755,377.293,307.255C377.293,310.755,377.293,313.589,377.293,315.005L377.293,316.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M377.293,398.422L377.293,402.589C377.293,406.755,377.293,415.089,377.335,421.38C377.376,427.672,377.46,431.922,377.53,435.505C377.6,439.089,377.657,442.006,377.686,443.464L377.715,444.923"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M377.793,726.922L377.71,731.005C377.626,735.089,377.46,743.255,377.376,749.422C377.293,755.589,377.293,759.755,377.293,763.255C377.293,766.755,377.293,769.589,377.293,771.005L377.293,772.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M266.535,823.005L235.977,828.408C205.419,833.81,144.303,844.616,113.787,852.144C83.271,859.672,83.354,863.922,83.424,867.505C83.495,871.089,83.552,874.006,83.58,875.464L83.609,876.923"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M83.688,1031.297L83.604,1037.38C83.521,1043.464,83.354,1055.63,91.993,1064.797C100.631,1073.964,118.075,1080.13,134.891,1086.075C151.706,1092.019,167.893,1097.741,175.986,1100.603L184.079,1103.464"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_H_6" d="M142.303,972.682L198.583,988.534C254.863,1004.387,367.424,1036.092,429.689,1055.028C491.955,1073.964,503.925,1080.13,515.303,1085.992C526.681,1091.853,537.466,1097.409,542.859,1100.187L548.251,1102.965"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_E_7" d="M340.602,1104.797L358.046,1098.63C375.49,1092.464,410.378,1080.13,427.822,1055.266C445.266,1030.401,445.266,993.005,445.266,957.609C445.266,922.214,445.266,888.818,442.542,870.036C439.819,851.255,434.373,847.089,429.456,843.327C424.539,839.565,420.151,836.209,417.957,834.531L415.763,832.852"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_E_8" d="M611.542,1104.797L613.215,1098.63C614.888,1092.464,618.233,1080.13,619.905,1055.266C621.578,1030.401,621.578,993.005,621.578,957.609C621.578,922.214,621.578,888.818,610.451,869.751C599.324,850.685,577.069,845.947,555.467,841.349C533.864,836.751,512.914,832.291,502.438,830.061L491.963,827.831"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_I_9" d="M341.999,830.422L336.553,834.589C331.106,838.755,320.213,847.089,314.767,857.354C309.32,867.62,309.32,879.818,309.32,891.349C309.32,902.88,309.32,913.745,309.32,919.177L309.32,924.609"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(83.1875, 1067.796875)" class="edgeLabel"><g transform="translate(-13.8203125, -12)" class="label"><foreignObject height="24" width="27.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Sim</p></span></div></foreignObject></g></g><g transform="translate(479.984375, 1067.796875)" class="edgeLabel"><g transform="translate(-14.71875, -12)" class="label"><foreignObject height="24" width="29.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Não</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(377.29296875, 35)" id="flowchart-A-1148" class="node default"><rect height="54" width="224.203125" y="-27" x="-112.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-82.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="164.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Jogador retorna à terra</p></span></div></foreignObject></g></g><g transform="translate(377.29296875, 191.2109375)" id="flowchart-B-1149" class="node default"><polygon transform="translate(-79.2109375,79.2109375)" class="label-container" points="79.2109375,0 158.421875,-79.2109375 79.2109375,-158.421875 0,-79.2109375"></polygon><g transform="translate(-52.2109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="104.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Iniciar Captura</p></span></div></foreignObject></g></g><g transform="translate(377.29296875, 359.421875)" id="flowchart-C-1151" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Para cada inimigo, chamar drop, inimigo.y, inimigo.x</p></span></div></foreignObject></g></g><g transform="translate(377.29296875, 587.421875)" id="flowchart-D-1153" class="node default"><polygon transform="translate(-139,139)" class="label-container" points="139,0 278,-139 139,-278 0,-139"></polygon><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Flood Fill marca áreas alcançáveis com -1</p></span></div></foreignObject></g></g><g transform="translate(377.29296875, 803.421875)" id="flowchart-E-1155" class="node default"><rect height="54" width="221.515625" y="-27" x="-110.7578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-80.7578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="161.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Percorrer toda a grade</p></span></div></foreignObject></g></g><g transform="translate(83.1875, 955.609375)" id="flowchart-F-1157" class="node default"><polygon transform="translate(-75.1875,75.1875)" class="label-container" points="75.1875,0 150.375,-75.1875 75.1875,-150.375 0,-75.1875"></polygon><g transform="translate(-48.1875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Célula == -1?</p></span></div></foreignObject></g></g><g transform="translate(264.2265625, 1131.796875)" id="flowchart-G-1159" class="node default"><rect height="54" width="228.859375" y="-27" x="-114.4296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-84.4296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="168.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Transformar em Mar - 0</p></span></div></foreignObject></g></g><g transform="translate(604.21875, 1131.796875)" id="flowchart-H-1161" class="node default"><rect height="54" width="237.515625" y="-27" x="-118.7578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-88.7578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="177.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Transformar em Terra - 1</p></span></div></foreignObject></g></g><g transform="translate(309.3203125, 955.609375)" id="flowchart-I-1167" class="node default"><rect height="54" width="201.890625" y="-27" x="-100.9453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-70.9453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="141.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Território Capturado</p></span></div></foreignObject></g></g></g></g></g></svg></section></section><section class="chapter"><h2 id="estrutura-do-c-digo-no-main-cpp" data-toc="estrutura-do-c-digo-no-main-cpp">Estrutura do C&oacute;digo no <code class="code" id="-ayu4t0_105">main.cpp</code></h2><p id="-ayu4t0_103">O loop principal do jogo &eacute; organizado em torno da m&aacute;quina de estados.</p><div class="code-block" data-lang="cpp">
int main() {
    // ... Inicialização de janela, texturas, fontes, etc. ...
    GameState gameState = MainMenu;

    while (window.isOpen()) {
        // ... Processamento de eventos (input do jogador) ...
        // A lógica de input muda com base no gameState (menu, jogo, etc.)

        // Lógica de atualização do jogo
        if (gameState == Playing) {
            // Mover jogador
            // Mover inimigos
            // Verificar colisões
            // Verificar se o jogador capturou uma área
        }

        // Lógica de renderização
        window.clear();
        if (gameState == MainMenu) {
            // Desenhar menu
        } else {
            // Desenhar a grade (terra, mar, trilha)
            // Desenhar jogador
            // Desenhar inimigos
            if (gameState == Paused) {
                // Desenhar texto &quot;Pausado&quot;
            }
            if (gameState == GameOver) {
                // Desenhar tela de &quot;Game Over&quot; e menu
            }
        }
        window.display();
    }
    return 0;
}
</div></section><section class="chapter"><h2 id="conceitos-importantes-aprendidos" data-toc="conceitos-importantes-aprendidos">Conceitos Importantes Aprendidos</h2><ul class="list _bullet" id="-ayu4t0_106"><li class="list__item" id="-ayu4t0_107"><p id="-ayu4t0_111"><span class="control" id="-ayu4t0_112">Manipula&ccedil;&atilde;o de Grid 2D</span>: Como usar uma matriz para representar um mundo de jogo complexo com diferentes tipos de terreno.</p></li><li class="list__item" id="-ayu4t0_108"><p id="-ayu4t0_113"><span class="control" id="-ayu4t0_114">Algoritmo de Flood Fill</span>: Uma aplica&ccedil;&atilde;o pr&aacute;tica e poderosa de recurs&atilde;o para an&aacute;lise de &aacute;reas conectadas. &Eacute; um algoritmo fundamental em muitos jogos e aplica&ccedil;&otilde;es gr&aacute;ficas.</p></li><li class="list__item" id="-ayu4t0_109"><p id="-ayu4t0_115"><span class="control" id="-ayu4t0_116">M&aacute;quina de Estados Finitos</span>: Um padr&atilde;o de design essencial para organizar o fluxo de um jogo, tornando o c&oacute;digo mais limpo e f&aacute;cil de gerenciar.</p></li><li class="list__item" id="-ayu4t0_110"><p id="-ayu4t0_117"><span class="control" id="-ayu4t0_118">L&oacute;gica de Risco vs. Recompensa</span>: O design do jogo incentiva o jogador a tomar decis&otilde;es estrat&eacute;gicas, equilibrando o perigo de criar uma trilha longa com a vantagem de capturar mais territ&oacute;rio.</p></li></ul></section><section class="chapter"><h2 id="extens-es-poss-veis" data-toc="extens-es-poss-veis">Extens&otilde;es Poss&iacute;veis</h2><p id="-ayu4t0_119">O c&oacute;digo atual &eacute; uma base excelente para adicionar novas funcionalidades:</p><ul class="list _bullet" id="-ayu4t0_120"><li class="list__item" id="-ayu4t0_121"><p id="-ayu4t0_125"><span class="control" id="-ayu4t0_126">Sistema de Pontua&ccedil;&atilde;o</span>: Adicionar pontos com base no tamanho da &aacute;rea capturada.</p></li><li class="list__item" id="-ayu4t0_122"><p id="-ayu4t0_127"><span class="control" id="-ayu4t0_128">N&iacute;veis e Dificuldade</span>: Aumentar o n&uacute;mero ou a velocidade dos inimigos a cada n&iacute;vel.</p></li><li class="list__item" id="-ayu4t0_123"><p id="-ayu4t0_129"><span class="control" id="-ayu4t0_130">Vidas</span>: Permitir que o jogador perca mais de uma vez antes do &quot;Game Over&quot;.</p></li><li class="list__item" id="-ayu4t0_124"><p id="-ayu4t0_131"><span class="control" id="-ayu4t0_132">Power-ups</span>: Itens que podem congelar os inimigos ou aumentar a velocidade do jogador temporariamente.</p></li></ul></section><div class="last-modified">28 August 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="outrun.html" class="navigation-links__prev">Outrun</a><a href="bejeweled.html" class="navigation-links__next">Bejeweled</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>